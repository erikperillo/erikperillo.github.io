\hypertarget{union__hw__sdhc__xfertyp}{}\section{\+\_\+hw\+\_\+sdhc\+\_\+xfertyp Union Reference}
\label{union__hw__sdhc__xfertyp}\index{\+\_\+hw\+\_\+sdhc\+\_\+xfertyp@{\+\_\+hw\+\_\+sdhc\+\_\+xfertyp}}


H\+W\+\_\+\+S\+D\+H\+C\+\_\+\+X\+F\+E\+R\+T\+YP -\/ Transfer Type register (RW)  




{\ttfamily \#include $<$M\+K64\+F12\+\_\+sdhc.\+h$>$}

\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct__hw__sdhc__xfertyp_1_1__hw__sdhc__xfertyp__bitfields}{\+\_\+hw\+\_\+sdhc\+\_\+xfertyp\+\_\+bitfields}
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
uint32\+\_\+t {\bfseries U}\hypertarget{union__hw__sdhc__xfertyp_ae6c1c9f52d31bff15f57cd28acacbfa5}{}\label{union__hw__sdhc__xfertyp_ae6c1c9f52d31bff15f57cd28acacbfa5}

\item 
struct \hyperlink{struct__hw__sdhc__xfertyp_1_1__hw__sdhc__xfertyp__bitfields}{\+\_\+hw\+\_\+sdhc\+\_\+xfertyp\+::\+\_\+hw\+\_\+sdhc\+\_\+xfertyp\+\_\+bitfields} {\bfseries B}\hypertarget{union__hw__sdhc__xfertyp_aab5dea3f6e50aa91d1240e17a0bdf64e}{}\label{union__hw__sdhc__xfertyp_aab5dea3f6e50aa91d1240e17a0bdf64e}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
H\+W\+\_\+\+S\+D\+H\+C\+\_\+\+X\+F\+E\+R\+T\+YP -\/ Transfer Type register (RW) 

Reset value\+: 0x00000000U

This register is used to control the operation of data transfers. The host driver shall set this register before issuing a command followed by a data transfer, or before issuing a resume command. To prevent data loss, the S\+D\+HC prevents writing to the bits that are involved in the data transfer of this register, when data transfer is active. These bits are D\+P\+S\+EL, M\+B\+S\+EL, D\+T\+D\+S\+EL, A\+C12\+EN, B\+C\+EN, and D\+M\+A\+EN. The host driver shall check P\+R\+S\+S\+T\+AT\mbox{[}C\+D\+I\+HB\mbox{]} and P\+R\+S\+S\+T\+AT\mbox{[}C\+I\+HB\mbox{]} before writing to this register. When P\+R\+S\+S\+T\+AT\mbox{[}C\+D\+I\+HB\mbox{]} is set, any attempt to send a command with data by writing to this register is ignored; when P\+R\+S\+S\+T\+AT\mbox{[}C\+I\+HB\mbox{]} bit is set, any write to this register is ignored. On sending commands with data transfer involved, it is mandatory that the block size is nonzero. Besides, block count must also be nonzero, or indicated as single block transfer (bit 5 of this register is 0 when written), or block count is disabled (bit 1 of this register is 0 when written), otherwise S\+D\+HC will ignore the sending of this command and do nothing. For write command, with all above restrictions, it is also mandatory that the write protect switch is not active (W\+P\+S\+PL bit of Present State Register is 1), otherwise S\+D\+HC will also ignore the command. If the commands with data transfer does not receive the response in 64 clock cycles, that is, response time-\/out, S\+D\+HC will regard the external device does not accept the command and abort the data transfer. In this scenario, the driver must issue the command again to retry the transfer. It is also possible that, for some reason, the card responds to the command but S\+D\+HC does not receive the response, and if it is internal D\+MA (either simple D\+MA or A\+D\+MA) read operation, the external system memory is over-\/written by the internal D\+MA with data sent back from the card. The following table shows the summary of how register settings determine the type of data transfer. Transfer Type register setting for various transfer types Multi/\+Single block select Block count enable Block count Function 0 Don\textquotesingle{}t care Don\textquotesingle{}t care Single transfer 1 0 Don\textquotesingle{}t care Infinite transfer 1 1 Positive number Multiple transfer 1 1 Zero No data transfer The following table shows the relationship between X\+F\+E\+R\+T\+YP\mbox{[}C\+I\+C\+EN\mbox{]} and X\+F\+E\+R\+T\+YP\mbox{[}C\+C\+C\+EN\mbox{]}, in regards to X\+F\+E\+R\+T\+YP\mbox{[}R\+S\+P\+T\+YP\mbox{]} as well as the name of the response type. Relationship between parameters and the name of the response type Response type (R\+S\+P\+T\+YP) Index check enable (C\+I\+C\+EN) C\+RC check enable (C\+C\+C\+EN) Name of response type 00 0 0 No Response 01 0 1 I\+R2 10 0 0 R3,R4 10 1 1 R1,R5,R6 11 1 1 R1b,R5b In the S\+D\+IO specification, response type notation for R5b is not defined. R5 includes R5b in the S\+D\+IO specification. But R5b is defined in this specification to specify that the S\+D\+HC will check the busy status after receiving a response. For example, usually C\+M\+D52 is used with R5, but the I/O abort command shall be used with R5b. The C\+RC field for R3 and R4 is expected to be all 1 bits. The C\+RC check shall be disabled for these response types. 

The documentation for this union was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/home/erik/proj/piranha/code/piranha-\/ptc/src/receiver/mbed/\+T\+A\+R\+G\+E\+T\+\_\+\+K64\+F/\+T\+A\+R\+G\+E\+T\+\_\+\+Freescale/\+T\+A\+R\+G\+E\+T\+\_\+\+K\+P\+S\+D\+K\+\_\+\+M\+C\+U\+S/\+T\+A\+R\+G\+E\+T\+\_\+\+M\+C\+U\+\_\+\+K64\+F/device/device/\+M\+K64\+F12/M\+K64\+F12\+\_\+sdhc.\+h\end{DoxyCompactItemize}
